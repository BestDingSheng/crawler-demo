# 87创业网爬虫项目需求文档

## 项目概述
本项目旨在开发一个自动化爬虫系统，用于获取 87创业网(vip.m987.cn) 的教程资源。系统需要模拟真实用户行为，处理登录验证，并能够稳定地获取目标内容。

## 功能需求

### 1. 用户认证模块
- [x] 实现自动登录功能
  - [x] 支持账号密码登录
  - [x] 处理滑块验证码
  - [x] 验证失败自动重试（最多2次）
  - [x] 保持登录状态（Cookie管理）

### 2. 内容抓取模块
- [x] 首页课程列表抓取
  - [x] 课程标题
  - [x] 课程描述
  - [x] 发布时间
  - [x] 封面图片
  - [x] 互动数据（点赞、评论数）
- [x] 课程详情页抓取
  - [x] 详细内容
  - [x] 下载链接
  - [x] 提取码

### 3. 数据存储模块
- [x] 本地文件存储
  - [x] JSON 格式存储
  - [x] 增量更新机制
  - [x] 去重机制
  - [x] 数据完整性检查
- [ ] MySQL 数据库存储（待实现）
  - [ ] 设计数据库结构
  - [ ] 实现数据持久化
  - [ ] 数据迁移功能
  - [ ] 备份恢复机制

## 技术实现

### 1. 登录模块
- [x] 使用 Puppeteer 模拟浏览器操作
- [x] 实现智能验证码识别
- [x] 模拟真实用户行为
  - [x] 随机延迟
  - [x] 自然的鼠标移动轨迹
  - [x] 分步输入表单

### 2. 反爬虫策略
- [x] 动态延迟请求
- [x] 模拟真实用户行为
- [x] Cookie 管理
- [ ] IP 代理（待实现）

### 3. 数据处理
- [x] URL 规范化
- [x] 图片链接处理
- [x] 时间格式化
- [x] 数据验证和清洗

## 注意事项

### 1. 验证码处理
- [x] 当前使用基于图像分析的滑块验证识别
- [x] 验证失败时支持重试机制
- [x] 需要持续优化识别准确率

### 2. 性能优化
- [x] 控制请求频率
- [x] 资源占用监控
- [ ] 并发爬取控制
- [ ] 错误处理和恢复机制

### 3. 合规性
- [x] 遵守网站robots协议
- [x] 合理控制爬取频率
- [x] 不影响网站正常运行

## 开发进度
- [x] 项目初始化
- [x] 登录模块基础实现
- [x] 验证码处理
- [x] 首页爬取
- [x] 详情页爬取
- [x] 本地文件存储
- [ ] 数据库存储
- [ ] API 接口开发
- [ ] 部署和监控 